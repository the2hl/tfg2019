{"version":3,"sources":["containers/PantallaPrincipal.jsx","ipfs.js","components/Datos.jsx","components/Editar.jsx","components/Fichero.jsx","containers/Login.jsx","containers/Register.jsx","components/Creditos.jsx","containers/App.jsx","serviceWorker.js","index.js"],"names":["PantallaPrincipal","props","_this","Object","_home_hhl_tfg_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_hhl_tfg_client_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_hhl_tfg_client_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","dataKey","isDatosOpen","isEditarOpen","isFicheroOpen","nuevoNombre","nuevoAp1","nuevoAp2","nuevoDNI","stackIdNombre","stackIdAp1","stackIdAp2","stackIdDNI","stackIdIPFS","errorDNI","buffer","logOut","bind","_home_hhl_tfg_client_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","showDatosBox","showEditarBox","showFicheroBox","onNombreChange","onAp1Change","onAp2Change","onDNIChange","cambiarNombre","cambiarApellido1","cambiarApellido2","cambiarDNI","onSubmit","capturarFichero","console","log","action","setState","e","target","value","nuevo","length","_this$props","drizzle","drizzleState","stackIdAux","contracts","TFG","methods","cacheSend","indice","from","accounts","_this$props2","_this$props3","_this$props4","event","_this2","preventDefault","file","files","reader","window","FileReader","readAsArrayBuffer","onloadend","Buffer","result","_this3","Ipfs","add","error","_this3$props","contract","ipfsHash","hash","_this$props5","dataKeyAux","cacheCall","contratos","htmlFile","contrato","nombre","apellido1","apellido2","dni","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","src","concat","title","width","height","htmlCode","_components_Datos_jsx__WEBPACK_IMPORTED_MODULE_8__","_components_Editar_jsx__WEBPACK_IMPORTED_MODULE_9__","_components_Fichero_jsx__WEBPACK_IMPORTED_MODULE_10__","className","role","onClick","React","Component","ipfs","require","host","port","protocol","__webpack_require__","d","__webpack_exports__","Datos","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","Editar","type","name","placeholder","onChange","Fichero","Login","classCallCheck","possibleConstructorReturn","getPrototypeOf","password","dniErr","passwordErr","submitLogin","assertThisInitialized","logearUsuario","resultado","buscarContrato","parseInt","dniErrAux","passwordErrAux","cambio","errorDNILong","errorPasswordLong","Sha256","react_default","htmlFor","id","aria-label","onPasswordChange","Register","stackId","errorNombre","errorApellido1","errorPassword","nivelSeguridad","submitRegister","onApellido1Change","onApellido2Change","getTxStatus","errorNomAux","errorApell1Aux","errorDNIAux","errorPWAux","gas","longitud","seguridad","_this$props$drizzleSt","transactions","txHash","transactionStack","estadoTx","status","nombreErr","apellido1Err","pwdWeak","pwdMedium","pwdStrong","Creditos","App","loading","isLoginOpen","isRegisterOpen","isCreditosOpen","isLogged","posicion","showLogin","showRegister","showCreditos","usuarioLogeado","usuarioDesconectado","unsubscribe","store","subscribe","getState","drizzleStatus","initialized","containers_Login","containers_Register","Creditos_Creditos","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","options","drizzleStore","generateStore","Drizzle","ReactDOM","render","containers_App","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.1c0a775b.chunk.js","sourcesContent":["import React from 'react';\nimport Ipfs from '../ipfs.js';\nimport { Datos } from '../components/Datos.jsx';\nimport { Editar } from '../components/Editar.jsx';\nimport { Fichero } from '../components/Fichero.jsx';\nclass PantallaPrincipal extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dataKey: null,\n            isDatosOpen: true,\n            isEditarOpen: false,\n            isFicheroOpen: false,\n            nuevoNombre: \"\",\n            nuevoAp1: \"\",\n            nuevoAp2: \"\",\n            nuevoDNI: \"\",\n            stackIdNombre: null,\n            stackIdAp1: null,\n            stackIdAp2: null,\n            stackIdDNI: null,\n            stackIdIPFS: null,\n            errorDNI: \"\",\n            buffer: null\n        };\n        // Funciones auxiliares\n        this.logOut = this.logOut.bind(this);\n        this.showDatosBox = this.showDatosBox.bind(this);\n        this.showEditarBox = this.showEditarBox.bind(this);\n        this.showFicheroBox = this.showFicheroBox.bind(this);\n        this.onNombreChange = this.onNombreChange.bind(this);\n        this.onAp1Change = this.onAp1Change.bind(this);\n        this.onAp2Change = this.onAp2Change.bind(this);\n        this.onDNIChange = this.onDNIChange.bind(this);\n        this.cambiarNombre = this.cambiarNombre.bind(this);\n        this.cambiarApellido1 = this.cambiarApellido1.bind(this);\n        this.cambiarApellido2 = this.cambiarApellido2.bind(this);\n        this.cambiarDNI = this.cambiarDNI.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.capturarFichero = this.capturarFichero.bind(this);\n    }\n\n    logOut() {\n        console.log(\"Usuario desconectado\");\n        this.props.action();\n    }\n\n    showDatosBox() {\n        this.setState({ isDatosOpen: true, isEditarOpen: false, isFicheroOpen: false });\n    }\n    showEditarBox() {\n        this.setState({ isEditarOpen: true, isDatosOpen: false, isFicheroOpen: false });\n    }\n    showFicheroBox() {\n        this.setState({ isFicheroOpen: true, isDatosOpen: false, isEditarOpen: false });\n    }\n\n    onNombreChange(e) {\n        this.setState({ nuevoNombre: e.target.value });\n    }\n\n    onAp1Change(e) {\n        this.setState({ nuevoAp1: e.target.value });\n    }\n\n    onAp2Change(e) {\n        this.setState({ nuevoAp2: e.target.value });\n    }\n\n    onDNIChange(e) {\n        this.setState({ nuevoDNI: e.target.value });\n    }\n\n    cambiarNombre() {\n        const nuevo = this.state.nuevoNombre;\n        if (nuevo.length > 1) {\n            const { drizzle, drizzleState } = this.props;\n            const contract = drizzle.contracts.TFG;\n            // Se informa a Drizzle que se va a llamar al método \"nuevoContrato\" con los parámetros \"nombre, apellido1, ...\"\n            const stackIdAux = contract.methods[\"cambiarNombre\"].cacheSend(\n                this.props.indice, nuevo,\n                { from: drizzleState.accounts[0] } // Número de cuenta actual\n            );\n            console.log(\"Nombre cambiado a: \" + nuevo);\n            // Se guarda el \"stackId\" para usarlo después\n            this.setState({ stackIdNombre: stackIdAux });\n        }\n\n    }\n\n    cambiarApellido1() {\n        const nuevo = this.state.nuevoAp1;\n        if (nuevo.length > 1) {\n            const { drizzle, drizzleState } = this.props;\n            const contract = drizzle.contracts.TFG;\n            // Se informa a Drizzle que se va a llamar al método \"nuevoContrato\" con los parámetros \"nombre, apellido1, ...\"\n            const stackIdAux = contract.methods[\"cambiarApellido1\"].cacheSend(\n                this.props.indice, nuevo,\n                { from: drizzleState.accounts[0] } // Número de cuenta actual\n            );\n            console.log(\"Primer apellido cambiado a: \" + nuevo);\n            // Se guarda el \"stackId\" para usarlo después\n            this.setState({ stackIdAp1: stackIdAux });\n        }\n    }\n\n    cambiarApellido2() {\n        const nuevo = this.state.nuevoAp2;\n        if (nuevo.length > 1) {\n            const { drizzle, drizzleState } = this.props;\n            const contract = drizzle.contracts.TFG;\n            // Se informa a Drizzle que se va a llamar al método \"nuevoContrato\" con los parámetros \"nombre, apellido1, ...\"\n            const stackIdAux = contract.methods[\"cambiarApellido2\"].cacheSend(\n                this.props.indice, nuevo,\n                {\n                    from: drizzleState.accounts[0], // Número de cuenta actual\n                }\n            );\n            console.log(\"Segundo apellido cambiado a: \" + nuevo);\n            // Se guarda el \"stackId\" para usarlo después\n            this.setState({ stackIdAp2: stackIdAux });\n        }\n    }\n\n    cambiarDNI() {\n        const nuevo = this.state.nuevoDNI;\n        if (nuevo.length === 9) {\n            const { drizzle, drizzleState } = this.props;\n            const contract = drizzle.contracts.TFG;\n            // Se informa a Drizzle que se va a llamar al método \"nuevoContrato\" con los parámetros \"nombre, apellido1, ...\"\n            const stackIdAux = contract.methods[\"cambiarDNI\"].cacheSend(\n                this.props.indice, nuevo,\n                {\n                    from: drizzleState.accounts[0], // Número de cuenta actual\n                }\n            );\n            console.log(\"DNI cambiado a: \" + nuevo);\n            // Se guarda el \"stackId\" para usarlo después\n            this.setState({ stackIdDNI: stackIdAux });\n        } else {\n            this.setState({ errorDNI: \"Su DNI debe tener 9 caracteres\" });\n        }\n    }\n\n    capturarFichero(event) {\n        event.preventDefault();\n        const file = event.target.files[0];\n        const reader = new window.FileReader();\n        reader.readAsArrayBuffer(file);\n        reader.onloadend = () => {\n            this.setState({ buffer: Buffer(reader.result) });\n        }\n    }\n\n    onSubmit(event) {\n        event.preventDefault();\n        Ipfs.add(this.state.buffer, (error, result) => {\n            if (error) {\n                console.error(error);\n                return;\n            }\n            const { drizzle, drizzleState } = this.props;\n            const contract = drizzle.contracts.TFG;\n            const ipfsHash = result[0].hash\n            // Se informa a Drizzle que se va a llamar al método \"cambiarIPFSHash\" con los parámetros \"this.props.indice, hash\"\n            const stackIdAux = contract.methods[\"cambiarIPFSHash\"].cacheSend(\n                this.props.indice, ipfsHash,\n                {\n                    from: drizzleState.accounts[0], // Número de cuenta actual\n                }\n            );\n            console.log(\"Hash IPFS: \" + ipfsHash);\n            // Se guarda el \"stackId\" para usarlo después\n            this.setState({ stackIdIPFS: stackIdAux });\n        })\n    }\n\n    componentDidMount() {\n        const { drizzle, indice } = this.props;\n        const contract = drizzle.contracts.TFG;\n        let dataKeyAux = contract.methods[\"contratos\"].cacheCall(indice);\n        this.setState({ dataKey: dataKeyAux });\n    }\n\n    render() {\n        const { TFG } = this.props.drizzleState.contracts;\n        if (TFG.contratos[this.state.dataKey]) {\n            let contrato = TFG.contratos[this.state.dataKey].value;\n            let nombre = contrato.nombre;\n            let apellido1 = contrato.apellido1;\n            let apellido2 = contrato.apellido2;\n            let dni = contrato.dni;\n            let ipfsHash = contrato.ipfsHash;\n            let htmlFile;\n            if (ipfsHash !== \"\") {\n                htmlFile = (\n                    <iframe src={`https://ipfs.io/ipfs/${ipfsHash}`} title=\"IPFS File\" width=\"650\" height=\"650\">\n                        Este navegador no soporta visualizar PDFs. Por favor, descargue el PDF para poder verlo.\n                    </iframe>\n                );\n            }\n            let htmlCode = \"\";\n            if (this.state.isDatosOpen) {\n                htmlCode = (\n                    <Datos nombre={nombre} apellido1={apellido1} apellido2={apellido2} dni={dni} />\n                );\n            } else if (this.state.isEditarOpen) {\n                htmlCode = (\n                    <Editar\n                        nombre={nombre} apellido1={apellido1} apellido2={apellido2} dni={dni}\n                        onNombreChange={this.onNombreChange} cambiarNombre={this.cambiarNombre}\n                        onAp1Change={this.onAp1Change} cambiarApellido1={this.cambiarApellido1}\n                        onAp2Change={this.onAp2Change} cambiarApellido2={this.cambiarApellido2}\n                        onDNIChange={this.onDNIChange} cambiarDNI={this.cambiarDNI}\n                        errorDNI={this.state.errorDNI}\n                    />\n                );\n            } else {\n                htmlCode = (\n                    <Fichero htmlFile={htmlFile} onSubmit={this.onSubmit} capturarFichero={this.capturarFichero} />\n                );\n            }\n\n            return (\n                <div>\n                    <div className=\"box-controller\" role=\"navigation\">\n                        <div\n                            className={\"controller \" + (this.state.isDatosOpen ? \"selected-controller\" : \"\")}\n                            onClick={this.showDatosBox}>\n                            Mis datos\n                        </div>\n                        <div\n                            className={\"controller \" + (this.state.isEditarOpen ? \"selected-controller\" : \"\")}\n                            onClick={this.showEditarBox}>\n                            Editar datos\n                        </div>\n                        <div\n                            className={\"controller \" + (this.state.isFicheroOpen ? \"selected-controller\" : \"\")}\n                            onClick={this.showFicheroBox}>\n                            Documento\n                        </div>\n                        <div className=\"controller\" onClick={this.logOut}>\n                            Cerrar Sesión\n                        </div>\n                    </div>\n                    <div className=\"box-container\" role=\"contentinfo\">\n                        {htmlCode}\n                    </div>\n                </div>\n            );\n        } else {\n            return null;\n        }\n    }\n}\nexport default PantallaPrincipal;","const IPFS = require('ipfs-http-client');\nconst ipfs = new IPFS({ host: 'ipfs.infura.io', port: 5001, protocol: 'https' });\n\nexport default ipfs;","import React from 'react';\n\nexport const Datos = (props) => {\n  return (\n    <div className=\"inner-container\">\n      <div className=\"header\">\n        Datos personales\n                        </div>\n      <div className=\"box\">\n        <h3>Nombre</h3>\n        <p>{props.nombre}</p>\n        <h3>Primer apellido</h3>\n        <p>{props.apellido1}</p>\n        <h3>Segundo apellido</h3>\n        <p>{props.apellido2}</p>\n        <h3>DNI</h3>\n        <p>{props.dni}</p>\n      </div>\n    </div>\n  );\n}","import React from 'react';\n\nexport const Editar = (props) => {\n  return (\n    <div className=\"inner-container\">\n      <div className=\"header\">\n        Editar datos personales\n      </div>\n      <div className=\"box\">\n        <div className=\"input-group\">\n          <p><strong>Nombre: </strong>{props.nombre}</p>\n          <input type=\"text\" name=\"nombre\" className=\"login-input\"\n            placeholder=\"Introducir nuevo nombre\" onChange={props.onNombreChange} />\n          <button type=\"button\" className=\"login-btn\" onClick={props.cambiarNombre}>Cambiar</button>\n        </div>\n        <div className=\"input-group\">\n          <p><strong>Primer apellido: </strong>{props.apellido1}</p>\n          <input type=\"text\" name=\"apellido1\" className=\"login-input\"\n            placeholder=\"Introducir nuevo primer apellido\" onChange={props.onAp1Change} />\n          <button type=\"button\" className=\"login-btn\" onClick={props.cambiarApellido1}>Cambiar</button>\n        </div>\n        <div className=\"input-group\">\n          <p><strong>Segundo apellido: </strong>{props.apellido2}</p>\n          <input type=\"text\" name=\"apellido2\" className=\"login-input\"\n            placeholder=\"Introducir nuevo segundo apellido\" onChange={props.onAp2Change} />\n          <button type=\"button\" className=\"login-btn\" onClick={props.cambiarApellido2}>Cambiar</button>\n        </div>\n        <div className=\"input-group\">\n          <p><strong>DNI: </strong>{props.dni}</p>\n          <input type=\"text\" name=\"dni\" className=\"login-input\"\n            placeholder=\"Introducir nuevo DNI\" onChange={props.onDNIChange} />\n          <small className=\"danger-error\">{props.errorDNI}</small>\n          <button type=\"button\" className=\"login-btn\" onClick={props.cambiarDNI}>Cambiar</button>\n        </div>\n      </div>\n    </div>\n  );\n}","import React from 'react';\n\nexport const Fichero = (props) => {\n  return (\n    <div className=\"inner-container\">\n      <div className=\"header\">\n        Mi testamento\n      </div>\n      <div className=\"box\">\n        <h3>Fichero subido</h3>\n        {props.htmlFile}\n        <h4>Subir fichero</h4>\n        <form onSubmit={props.onSubmit} >\n          <input type='file' onChange={props.capturarFichero} />\n          <input type='submit' />\n        </form>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport Sha256 from 'js-sha256';\nclass Login extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dataKey: null,\n            dni: \"\",\n            password: \"\",\n            dniErr: \"\",\n            passwordErr: \"\"\n        };\n        this.submitLogin = this.submitLogin.bind(this);\n        this.logearUsuario = this.logearUsuario.bind(this);\n    }\n\n    componentDidUpdate() {\n        const { TFG } = this.props.drizzleState.contracts;\n        // Se obtiene la variable usando la \"dataKey\" guardada\n        let resultado;\n        if (TFG.buscarContrato[this.state.dataKey]) {\n            resultado = parseInt(TFG.buscarContrato[this.state.dataKey].value);\n        }\n        let dniErrAux = \"\", passwordErrAux = \"\";\n        let cambio = false;\n        if (resultado === -3) {\n            dniErrAux = \"El DNI introducido no está registrado\";\n            passwordErrAux = \"La contraseña introducida es errónea\";\n            if (dniErrAux !== this.state.dniErr && passwordErrAux !== this.state.passwordErr) {\n                cambio = true;\n            }\n        } else if (resultado === -2) {\n            dniErrAux = \"El DNI introducido no está registrado\";\n            if (dniErrAux !== this.state.dniErr) {\n                cambio = true;\n            }\n        } else if (resultado === -1) {\n            passwordErrAux = \"La contraseña introducida es errónea\";\n            if (passwordErrAux !== this.state.passwordErr) {\n                cambio = true;\n            }\n        } else if (resultado > 0) {\n            console.log(\"Usuario loggeado\");\n            this.logearUsuario(resultado);\n        }\n        if (cambio) {\n            this.setState({ dniErr: dniErrAux, passwordErr: passwordErrAux });\n        }\n    }\n\n    submitLogin() {\n        let errorDNILong = false, errorPasswordLong = false;\n        const dni = this.state.dni;\n        if (dni.length !== 9) {\n            errorDNILong = true;\n        }\n        if (this.state.password.length < 5) {\n            errorPasswordLong = true;\n        }\n\n        let dniErrAux = \"\", passwordErrAux = \"\";\n        if (errorDNILong) {\n            dniErrAux = \"Su DNI debe tener 9 caracteres\";\n        }\n        if (errorPasswordLong) {\n            passwordErrAux = \"Su contraseña debe tener 5 caracteres como mínimo\";\n        }\n        if (!errorDNILong && !errorPasswordLong) {\n            const hash = Sha256(this.state.password);\n            const { drizzle } = this.props;\n            const contract = drizzle.contracts.TFG;\n            // Se informa a Drizzle que se va a llamar al método \"buscarContrato\" con los parámetros \"dni, hash\"\n            const dataKeyAux = contract.methods[\"buscarContrato\"].cacheCall(dni, hash);\n            console.log(\"Contrato buscado: dni \" + dni + \" y hash \" + hash);\n            // Se guarda el \"dataKey\" para usarlo después\n            this.setState({ dataKey: dataKeyAux, dniErr: dniErrAux, passwordErr: passwordErrAux });\n        } else {\n            this.setState({ dniErr: dniErrAux, passwordErr: passwordErrAux });\n        }\n\n    }\n\n    onDNIChange(e) {\n        this.setState({ dni: e.target.value });\n    }\n\n    onPasswordChange(e) {\n        this.setState({ password: e.target.value });\n    }\n\n    logearUsuario(indice) {\n        this.props.action(indice);\n    }\n\n    render() {\n        return (\n            <div className=\"inner-container\">\n                <div className=\"header\">\n                    Iniciar Sesión\n                </div>\n                <div className=\"box\">\n                    <div className=\"input-group\">\n                        <label htmlFor=\"dni\">DNI</label>\n                        <input type=\"text\" name=\"dni\" id=\"dni\" className=\"login-input\" placeholder=\"DNI\"\n                            onChange={(e) => this.onDNIChange(e)} />\n                        <small className=\"danger-error\">{this.state.dniErr}</small>\n                    </div>\n                    <div className=\"input-group\">\n                        <label htmlFor=\"contraseña\">Contraseña</label>\n                        <input type=\"password\" name=\"contraseña\" id=\"contraseña\" aria-label=\"contraseña\" className=\"login-input\" placeholder=\"Contraseña\" onChange={(e) => this.onPasswordChange(e)} />\n                        <small className=\"danger-error\">{this.state.passwordErr}</small>\n                    </div>\n                    <button type=\"button\" className=\"login-btn\"\n                        onClick={() => this.submitLogin()}>Iniciar Sesión</button>\n                </div>\n            </div>\n        );\n    }\n}\nexport default Login;","import React from 'react';\nimport Sha256 from \"js-sha256\";\nclass Register extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            stackId: null,\n            nombre: \"\",\n            apellido1: \"\",\n            apellido2: \"\",\n            dni: \"\",\n            password: \"\",\n            errorNombre: false,\n            errorApellido1: false,\n            errorDNI: false,\n            errorPassword: false,\n            nivelSeguridad: \"weak\"\n        };\n        // Funciones auxiliares\n        this.submitRegister = this.submitRegister.bind(this);\n        this.onNombreChange = this.onNombreChange.bind(this);\n        this.onApellido1Change = this.onApellido1Change.bind(this);\n        this.onApellido2Change = this.onApellido2Change.bind(this);\n        this.onDNIChange = this.onDNIChange.bind(this);\n        this.onPasswordChange = this.onPasswordChange.bind(this);\n        this.getTxStatus = this.getTxStatus.bind(this);\n    }\n\n    submitRegister() {\n        let errorNomAux = false, errorApell1Aux = false, errorDNIAux = false, errorPWAux = false;\n        if (this.state.nombre === \"\") {\n            errorNomAux = true;\n        }\n        if (this.state.apellido1 === \"\") {\n            errorApell1Aux = true;\n        }\n        if (this.state.dni.length !== 9) {\n            errorDNIAux = true;\n        }\n        if (this.state.password.length < 5) {\n            errorPWAux = true;\n        }\n        this.setState({\n            errorNombre: errorNomAux,\n            errorApellido1: errorApell1Aux,\n            errorDNI: errorDNIAux,\n            errorPassword: errorPWAux\n        })\n        if (!errorNomAux && !errorApell1Aux && !errorDNIAux && !errorPWAux) {\n            const { drizzle, drizzleState } = this.props;\n            const contract = drizzle.contracts.TFG;\n            const nombre = this.state.nombre;\n            const apellido1 = this.state.apellido1;\n            const apellido2 = this.state.apellido2;\n            const dni = this.state.dni;\n            const hash = Sha256(this.state.password);\n            // Se informa a Drizzle que se va a llamar al método \"nuevoContrato\" con los parámetros \"nombre, apellido1, ...\"\n            const stackIdAux = contract.methods[\"nuevoContrato\"].cacheSend(\n                nombre, apellido1, apellido2, dni, hash,\n                {\n                    from: drizzleState.accounts[0], // Número de cuenta actual\n                    gas: 280000\n                }\n            );\n            console.log(\"Nuevo contrato añadido: \" + nombre + \" \" + apellido1 + \" \" + apellido2 + \" con DNI \" + dni);\n            // Se guarda el \"stackId\" para usarlo después\n            this.setState({ stackId: stackIdAux });\n        }\n    }\n\n    onNombreChange(e) {\n        this.setState({ nombre: e.target.value });\n    }\n\n    onApellido1Change(e) {\n        this.setState({ apellido1: e.target.value });\n    }\n    onApellido2Change(e) {\n        this.setState({ apellido2: e.target.value });\n    }\n\n    onDNIChange(e) {\n        this.setState({ dni: e.target.value });\n    }\n\n    onPasswordChange(e) {\n        let longitud = e.target.value.length;\n        let seguridad = \"weak\";\n        if (longitud > 6) {\n            seguridad = \"medium\";\n        }\n        if (longitud > 11) {\n            seguridad = \"strong\";\n        }\n        this.setState({ password: e.target.value, nivelSeguridad: seguridad });\n    }\n\n    // Se obtiene el estado de las transacciónn a partir del estado de Drizzle\n    getTxStatus() {\n        const { transactions, transactionStack } = this.props.drizzleState;\n        // Se obtiene el hash de la transacción usando el \"stackId\" guardado\n        const txHash = transactionStack[this.state.stackId];\n        // Si el hash de la transacción no existe, no se devuelve nada\n        if (!txHash) {\n            return null;\n        }\n        // Si la transacción no existe, no se devuelve nada\n        if (!transactions[txHash]) {\n            return null;\n        }\n        let estadoTx = transactions[txHash].status;\n        // Si existe, se devuelve el estado de la transacción\n        return `Estado de la transacción: ${estadoTx}`;\n    };\n\n    render() {\n        let nombreErr = null, apellido1Err = null, passwordErr = null, dniErr = null;\n        if (this.state.errorNombre) {\n            nombreErr = \"Introduzca su nombre por favor\"\n        }\n        if (this.state.errorApellido1) {\n            apellido1Err = \"Introduzca su primer apellido por favor\"\n        }\n        if (this.state.errorDNI) {\n            dniErr = \"Su DNI debe tener 9 caracteres\"\n        }\n        if (this.state.errorPassword) {\n            passwordErr = \"Su contraseña debe tener 5 caracteres como mínimo\"\n        }\n\n        let pwdWeak = false, pwdMedium = false, pwdStrong = false;\n        //Weak password set onlt the pwdWeak to true, cause render only the first bar \n        if (this.state.nivelSeguridad === \"weak\") {\n            pwdWeak = true;\n        } else if (this.state.nivelSeguridad === \"medium\") {\n            //Medium pwd then render the weak and medium bars \n            pwdWeak = true;\n            pwdMedium = true;\n        } else if (this.state.nivelSeguridad === \"strong\") {\n            //Strong, render all the previoud bars \n            pwdWeak = true;\n            pwdMedium = true;\n            pwdStrong = true;\n        }\n\n        return (\n            <div className=\"inner-container\">\n                <div className=\"header\">\n                    Registrarse\n                </div>\n                <div className=\"box\">\n                    <div className=\"input-group\">\n                        <label htmlFor=\"nombre\">Nombre</label>\n                        <input type=\"text\" name=\"nombre\" className=\"login-input\" placeholder=\"Nombre\"\n                            onChange={this.onNombreChange} />\n                        <small className=\"danger-error\">{nombreErr ? nombreErr : \"\"}</small>\n                    </div>\n                    <div className=\"input-group\">\n                        <label htmlFor=\"apellido1\">Primer apellido</label>\n                        <input type=\"text\" name=\"apellido1\" className=\"login-input\"\n                            placeholder=\"Primer apellido\" onChange={this.onApellido1Change} />\n                        <small className=\"danger-error\">{apellido1Err ? apellido1Err : \"\"}</small>\n                    </div>\n                    <div className=\"input-group\">\n                        <label htmlFor=\"apellido2\">Segundo apellido (opcional)</label>\n                        <input type=\"text\" name=\"apellido2\" className=\"login-input\"\n                            placeholder=\"Segundo apellido\" onChange={this.onApellido2Change} />\n                    </div>\n                    <div className=\"input-group\">\n                        <label htmlFor=\"dni\">DNI</label>\n                        <input type=\"text\" name=\"dni\" className=\"login-input\" placeholder=\"DNI\"\n                            onChange={this.onDNIChange} />\n                        <small className=\"danger-error\">{dniErr ? dniErr : \"\"}</small>\n                    </div>\n                    <div className=\"input-group\">\n                        <label htmlFor=\"password\">Contraseña</label>\n                        <input type=\"password\" name=\"password\" className=\"login-input\" placeholder=\"Contraseña\"\n                            onChange={this.onPasswordChange} />\n                        {this.state.password &&\n                            <div className=\"password-state\">\n                                <div\n                                    className={\"pwd pwd-weak \" + (pwdWeak ? \"show\" : \"\")}></div>\n                                <div\n                                    className={\"pwd pwd-medium \" + (pwdMedium ? \"show\" : \"\")}></div>\n                                <div\n                                    className={\"pwd pwd-strong \" + (pwdStrong ? \"show\" : \"\")}></div>\n                            </div>}\n                        <small className=\"danger-error\">{passwordErr ? passwordErr : \"\"}</small>\n                    </div>\n                    <button type=\"button\" className=\"login-btn\" onClick={this.submitRegister}>Registrarme</button>\n                    <p>{this.getTxStatus()}</p>\n                </div>\n            </div>\n        );\n    }\n}\nexport default Register;","import React from 'react';\n\nexport const Creditos = (props) => {\n  return (\n    <div>\n      <div className=\"header\">\n        Créditos\n      </div>\n      <h2>Origen</h2>\n      <p>Esta aplicación es el resultado del Trabajo Fin de Grado del alumno Hans Huaita Loyola\n          titulado <strong>\"Desarrollo de un servicio de gestión de testamentos basado en la cadena de bloques Ethereum y\n          el sistema de ficheros IPFS\"</strong>.\n      </p>\n      <h2>Autor</h2>\n      <p>Hans Sebastian Huaita Loyola</p>\n      <p>hans.huaita.loyola@alumnos.upm.es</p>\n      <h2>Tutor</h2>\n      <p>Santiago Pavón</p>\n      <p>santiago@dit.upm.es</p>\n    </div>\n  );\n}","import React, { Component } from 'react';\nimport '../assets/styles/App.scss';\nimport Login from \"./Login.jsx\";\nimport Register from \"./Register.jsx\";\nimport PantallaPrincipal from \"./PantallaPrincipal.jsx\";\nimport { Creditos } from '../components/Creditos';\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: true,\n      isLoginOpen: true,\n      isRegisterOpen: false,\n      isCreditosOpen: false,\n      isLogged: false,\n      posicion: -1,\n      drizzleState: null\n    };\n    // Funciones auxiliares\n    this.showLogin = this.showLogin.bind(this);\n    this.showRegister = this.showRegister.bind(this);\n    this.showCreditos = this.showCreditos.bind(this);\n    this.usuarioLogeado = this.usuarioLogeado.bind(this);\n    this.usuarioDesconectado = this.usuarioDesconectado.bind(this);\n  }\n\n  // Al montar el componente\n  componentDidMount() {\n    const { drizzle } = this.props;\n\n    // Nos suscribimos a los cambios en la store\n    this.unsubscribe = drizzle.store.subscribe(() => {\n      // Cada vez que la store se actualiza, se coge el estado de Drizzle\n      const drizzleState = drizzle.store.getState();\n\n      // Se comprueba si está listo: si lo está, se actualiza el estado del componante local\n      if (drizzleState.drizzleStatus.initialized) {\n        this.setState({ loading: false, drizzleState });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n  showLogin() {\n    this.setState({ isLoginOpen: true, isRegisterOpen: false, isCreditosOpen: false });\n  }\n\n  showRegister() {\n    this.setState({ isRegisterOpen: true, isLoginOpen: false, isCreditosOpen: false });\n  }\n\n  showCreditos() {\n    this.setState({ isCreditosOpen: true, isLoginOpen: false, isRegisterOpen: false });\n  }\n\n  usuarioLogeado(indice) {\n    this.setState({ isLogged: true, posicion: indice });\n  }\n\n  usuarioDesconectado() {\n    this.setState({ isLogged: false, posicion: -1 });\n  }\n\n  render() {\n    if (this.state.loading) {\n      return \"Cargando Drizzle...\";\n    }\n    let htmlCode;\n    if (this.state.isLogged) {\n      htmlCode = (\n        <PantallaPrincipal\n          drizzle={this.props.drizzle}\n          drizzleState={this.state.drizzleState}\n          indice={this.state.posicion}\n          action={this.usuarioDesconectado}\n        />);\n    } else {\n      htmlCode = (\n        <div>\n          <div className=\"box-controller\" role=\"navigation\">\n            <div\n              className={\"controller \" + (this.state.isLoginOpen ? \"selected-controller\" : \"\")}\n              onClick={this.showLogin}>\n              Iniciar Sesión\n            </div>\n            <div\n              className={\"controller \" + (this.state.isRegisterOpen ? \"selected-controller\" : \"\")}\n              onClick={this.showRegister}>\n              Registrarse\n            </div>\n            <div\n              className={\"controller \" + (this.state.isCreditosOpen ? \"selected-controller\" : \"\")}\n              onClick={this.showCreditos}>\n              Créditos\n            </div>\n          </div>\n          <div className=\"box-container\" role=\"contentinfo\">\n            {this.state.isLoginOpen &&\n              <Login\n                drizzle={this.props.drizzle}\n                drizzleState={this.state.drizzleState}\n                action={this.usuarioLogeado} />}\n            {this.state.isRegisterOpen &&\n              <Register\n                drizzle={this.props.drizzle}\n                drizzleState={this.state.drizzleState} />}\n            {this.state.isCreditosOpen && <Creditos />}\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div className=\"root-container\">\n        <h1 className=\"header\" role=\"complementary\">LastWillManager</h1>\n        {htmlCode}\n      </div>\n    );\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/styles/index.css';\nimport App from './containers/App.jsx';\nimport * as serviceWorker from './serviceWorker';\n\n// import drizzle functions and contract artifact\nimport { Drizzle, generateStore } from \"drizzle\";\nimport TFG from \"./contracts/TFG.json\";\n\n// let drizzle know what contracts we want\nconst options = { contracts: [TFG] };\n\n// setup the drizzle store and drizzle\nconst drizzleStore = generateStore(options);\nconst drizzle = new Drizzle(options, drizzleStore);\n\nReactDOM.render(<App drizzle={drizzle} />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}